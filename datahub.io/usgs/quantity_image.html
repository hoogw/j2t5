<!DOCTYPE html>
<html>

<head>
     <!--Let browser know website is optimized for mobile-->
     <meta name="viewport" charset='utf-8' content="initial-scale=1.0, width=device-width"/>

    <title id="title">color - image</title>
    <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">
    <link rel="icon" href="../../favicon.ico" type="image/x-icon">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
       
    
    
   
     <!-- new jsoneditor, https://github.com/josdejong/svelte-jsoneditor/issues/265,   https://jsbin.com/yuwapaj/edit?html,output  -->
      <script type="module" src="../../js/arcgis/module_shared.js"></script>
      <link href="../../js/lib/new_jsoneditor/jse-theme-dark.css" rel="stylesheet" type="text/css"/>

     
     <link rel="stylesheet" href="../../stylesheets/color.css">
     <link rel="stylesheet" href="../../stylesheets/sidenav_1panel.css">
 
                  
<!--  ---  print   ---  *  *  must after main xxx.css  *  *  https://developer.mozilla.org/en-US/docs/Web/Guide/Printing -->
<link rel="stylesheet" type="text/css" media="print" href="../../stylesheets/print.css" />


</head>

<body>
               
          

          

          <!--  *** *** --- *** *** --- ***  print floating panel  *** *** --- *** *** --- *** -->
            <div id='title_div' class='title_div'>
            </div>  
          <!-- *** *** --- *** *** --- ***  end *** *** --- *** *** --- ***  print floating panel  *** *** --- *** *** --- *** -->





          <div class='full_screen_flex_container_row'>

            <div id='flex_2' class='flex_2'>
              <div id="viewDiv"></div>
            </div>   

  
            <div >


                        <!--  *** *** *** *** *** *** ***  build in scroll to top popup info window *** *** *** *** *** *** *** **** -->
                        <div id='info_outline'>
                          <!--  fix bug, only esri , hit test sometime missed trigger hover-out event, cause window not close, add close button, let user manually close it   ------ materialize only -->
                          <button id='close_info_outline_panel' class="setting-button"> 
                            Close &times;
                          </button>
            
                          <div id='info-window-div' class="flex-row" style="font-size: xx-small;"></div>
                        
                        </div>  
                        <!--  *** *** *** end *** *** *** ***  build in scroll to top popup info window *** *** *** *** *** *** *** **** -->

                      <span id="layer-info"></span>
                      </br>
                     

                      <div id='row_btn'>

                        <!--   --- --- --- --- back to previous extent --- --- --- --- -->
                        <button  type='button' id='back_to_previous_extent_btn'><span style="font-size: 28px;">&#8678; back to previous extent</span></button>
                        <button  type='button' id='full_extent_btn'><span style="font-size: 28px;">&#9974; full extent</span></button>
                        <!--   --- --- end --- --- back to previous extent --- --- --- ---  -->

                         <!-- dark mode toggle -->
                         <button href="#" onclick="localStorage.setItem('mode', (localStorage.getItem('mode') || 'dark') === 'dark' ? 'light' : 'dark'); localStorage.getItem('mode') === 'dark' ? document.querySelector('body').classList.add('dark') : document.querySelector('body').classList.remove('dark')" title="Dark/light">
                          &#127763;Dark
                         </button>

                          <!-- . . . attribution . . . -->
                      </br>
                      <span  style="font-size: 10.1px;">Current Background Map: </span>
                      <div id='attribution-outside-of-map-div' style="font-size: 10.1px;"></div>
                      <!--  . . end . . .. . . attribution . . . -->  

                        <!-- token -->
                        </br>
                        <span id='arcgis_online_token_label'></span>
                        <span id='arcgis_online_token'></span>
                      </div> 

                      </br> 
                      
                      <div id="statistic_info" class='margin-small'></div>

 
                                
                                
                      <legend>
                        <input name="symbolType_radio" type="radio"  value="native" checked />
                        <span style="font-size: 23px;">Original Color (when publish from Arcgis-Pro)</span>
                      </legend> 
                      
                              </br>

                              <fieldset>
                                                                                  
                                <legend>
                                    <input  name="symbolType_radio" type="radio"  value="quantity"/>
                                    <b>Classification by value range</b>
                                </legend> 

                                <fieldset>
                                  <legend>
                                    <span> Step 1. based on what field name </span>
                                  </legend> 
                                  <div id='quantity_field_radio_list'></div>
                                </fieldset>


                                  <fieldset>
                                    <legend>
                                      <span> Step 2. customize </span>
                                      <span id="field_name_span" class="context"></span>
                                    </legend> 
                                     
                                    <span>From&nbsp;&nbsp;</span>
                                    <sup style="font-size: 10px;">min value&nbsp;</sup>
                                    <span id="min_value_span"></span>
                                    <span>&nbsp;&nbsp;To&nbsp;&nbsp;</span>
                                    <sup style="font-size: 10px;">max value&nbsp;</sup>
                                    <span id="max_value_span"></span>

                                    <div id='color_scale_radio_list'></div>

                                    <div id='class_range_div'>

                                            
                                            

                                            <span id="class_1_color_span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                            <span>from</span>
                                            <input type="text" id="from_1"   name="class_range_min_value" size="10"  disabled/>
                                            <span>to</span>
                                            <input type="text" id="to_1"  name="class_range_from_to_input_text" size="10"/>

                                            </br>

                                            <span id="class_2_color_span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                            <span>from</span>
                                            <input type="text" id="from_2"   name="class_range_from_to_input_text" size="10" />
                                            <span>to</span>
                                            <input type="text" id="to_2"  name="class_range_from_to_input_text" size="10" />

                                            </br>

                                            <span id="class_3_color_span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                            <span>from</span>
                                            <input type="text" id="from_3"   name="class_range_from_to_input_text" size="10" />
                                            <span>to</span>
                                            <input type="text" id="to_3"  name="class_range_from_to_input_text" size="10" />


                                            </br>

                                            
                                            <span id="class_4_color_span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                            <span>from</span>
                                            <input type="text" id="from_4"   name="class_range_from_to_input_text" size="10" />
                                            <span>to</span>
                                            <input type="text" id="to_4"  name="class_range_from_to_input_text" size="10" />


                                            </br>

                                            <span id="class_5_color_span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                            <span>from</span>
                                            <input type="text" id="from_5"   name="class_range_from_to_input_text" size="10"/>
                                            <span>to</span>
                                            <input type="text" id="to_5"  name="class_range_max_value" size="10"  disabled/>
                                            <button id="apply_value_change_btn" type="button" class="margin-small">apply value range</button>

                                            </br>
                                            <button id="quantile_btn" type="button" class="margin-small">Quantile(default)</button>
                                            <button id="natural_breaks_btn" type="button" class="margin-small">Natural breaks(Jenks)</button>
                                            <button id="equal_interval_btn" type="button" class="margin-small">Equal interval</button>
                                            <button id="equal_interval_local_btn" type="button" class="margin-small">Equal interval(local)</button>
                                            <a target="_blank" href="https://cartography-playground.gitlab.io/playgrounds/data-classification-methods/">How data classification methods works</a>
                                                                           
                                            

                                          </div>

                                  </fieldset>


                                  

                                         
                              </fieldset>

                              <div id="legend-div"></div>
                              <div id="legend-outside-mapview-div" style="opacity:1;"></div>


                              <fieldset>
                                                  
                                                  <legend>
                                                      <input  name="symbolType_radio" type="radio"  value="customized"/>
                                                      <b>Single color</b><sup>server side image</sup>
                                                  </legend> 


                                                            </br>
                                                            <div id='row_symbol_color' >
                                                                <b> Line Color </b>
                                                                <div id='symbol_color_div'>
                                                                  <input type='text' id='symbol_color' name='symbol_color' disabled />
                                                                </div>
                                                            </div>
                                                          
                                                            </br>
                                                            <div id='row_symbol_width'>
                                                                <b> Line Width </b>
                                                                <input type='range' id='line_width_range' name='line_width_range' min='1' max='50' >
                                                                <b id='line_width_label'></b>
                                                            </div>
                                                            <!--  . . .simple fill symbol style . . . -->
                                                            <fieldset id='outline_pattern_div'></fieldset>


                                                          
                                                            </br>
                                                            <div id='row_fill_color' >
                                                              <b> Polygon Fill Color </b>
                                                              <div id='fill_color_div'>
                                                                    <input type='text' id='fill_color' name='fill_color' disabled>
                                                              </div>
                                                            </div>
                                                            <!--  . . .simple fill symbol style . . . -->
                                                            <fieldset id='simplefill_pattern_div'></fieldset>



                                                            </br>
                                                            <div id='row_symbol_point_radius'>
                                                                <b> Point Radius </b>
                                                                <input type='range' id='point_radius_range' name='point_radius_range' min='1' max='50'>
                                                                <b id='point_radius_label'></b>
                                                            </div>

                                                            <!--  . . .simple fill symbol style . . . -->
                                                            <fieldset id='simpleMarker_div'></fieldset>

                                                             <!--  . . .simple fill symbol style . . . -->
                                                             <fieldset id='dynamicLayers_array_fieldset'>
                                                              <legend>Dynamic Layers(arcgis JavaScript api)</legend>
                                                              <div id='jsoneditor_dynamicLayers_array'></div>
                                                            </fieldset>
                              </fieldset>


                              </br>
                              <div id='dynamic-label'></div>
                              </br>


                            </br>
                           <!-- --- --- POI point of interest search esri --- --- -->

                           <fieldset>
                                  
                            <legend>Esri POI ( powered by Esri Location Platform )</legend>
                            
                            <button  id='clear_poi_button'><span style="font-size: 27px;">&#9932; Clear POI &nbsp;</span></button>
                            </br>
                            <input id='search_poi_input' class='field_input_for_search' type='search' placeholder='Search POI (Point Of Interest)'/>                               
                            </br>
                            <button  id='search_poi_button'><span style="font-size: 27px;">&#128270; Search POI &nbsp;</span></button>
                            <sup style="font-size:9px;">search keyword is required</sup>
                            <button  id='nearby_poi_button'><span style="font-size: 27px;">&#128205; Show Nearby POI &nbsp;</span></button>
                            <sup style="font-size:9px;">search keyword is optional, max 5 miles radius from center, ESRI limit max 200 poi </sup>
                            </br>
                            <div id='pagination-container'></div>

                          </fieldset>

                        <!-- end --- --- POI point of interest search esri --- --- -->
                            



                            </br>
                            <!--  ---  print   ---   -->
                            <fieldset class='margin-small'>
                                    <legend> &#128424; Local Browser Printer</legend>
                                      <span style="font-size: 11px;">Client side, will NOT use Arcgis Server Printing Service</span>
                                      </br>

                                    <button id='print_map_btn' class='margin-small'>
                                      &#128424; print PDF
                                    </button>
                                    <button id='sample_title_btn' class='margin-small'>
                                      &#9999; edit title
                                    </button>
                                    <button id='clear_title_btn' class='margin-small'>
                                 &#9932; clear
                                    </button>
                                    <button id='update_title_btn' class='margin-small'>
                                      update
                                    </button>
                                    </br>
                                    <!-- textarea must be in same line to show placeholder https://stackoverflow.com/questions/10186913/html5-textarea-placeholder-not-appearing -->
                                    <textarea id="edit_title_textarea" placeholder="edit title html" name="edit_title_textarea" rows="3" style="width: 100%; max-width: 100%;"></textarea>
                             </fieldset>
                              <!--  - - - end  - - ----  print   ---   -->

                            </br>
                             <!--  - - -   - - -  esri print widget   - - -   - - -    -->
                             <fieldset class='margin-small'>
                                 <legend> &#128424; Remote Esri Printing Service</legend>
                                   <span style="font-size: 11px;">Server side, will use remote Arcgis Server Printing Service</span>
                                   </br>

                                 <div id='esri-print-wiget-outside-mapview-div'></div>
                             </fieldset>
                              <!--  - - - end  - - -  esri print widget   - - -   - - -    -->


            </div> 
            

                      
          </div>   
                    
                    

    <!--  mark.js must before any arcgis api   --> 
      <!--  ----- mark.js  --> 
      <script src="../../js/lib/mark.js/mark.min.js" type="text/javascript"></script>
      <script src="../../js/lib/mark.js/jquery.mark.min.js" type="text/javascript"></script>
      <link href="../../stylesheets/mark.js.css" rel="stylesheet" type="text/css"/>
    <!--  end ---- mark.js  --> 


                  <!--  setting tab colorPicker svg color picker https://iro.js.org -->
                  <!--  <script src='https://cdn.jsdelivr.net/npm/@jaames/iro@5'></script>   -->
                  <script src='../../js/lib/colorPicker.iro.js.org/iro.js'></script>
            
                <!-- jquery must load first on top header -->
     <!-- esri dojo conflict with jquery, must load after jquery, at bottom of page -->
     <!-- my.js must load after esri dojo load -->
                
               <!-- paginationjs  -->
 <link href="../../js/lib/paginationjs/pagination.css" rel="stylesheet" type="text/css"/> 
 <script src="../../js/lib/paginationjs/pagination.js"></script>
      
  <script src="../../js/lib/stack.js"></script> 

  <!-- - - - - all third party js should load before esri js api  - - - - otherwise, get multiDefine error   - - - --->


                
                <link rel="stylesheet" href="https://js.arcgis.com/4.34/esri/themes/dark/main.css"/>
                <script src="https://js.arcgis.com/4.34/"></script>
                
        
                <script src="../../js/arcgis/arcgis_common.js" type="text/javascript"></script>
                
        
                <script src="../../js/datahub.io/usgs/quantity_image.js" type="text/javascript"></script>

  </body>
</html>